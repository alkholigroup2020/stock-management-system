generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model User {
  id                  String         @id @default(uuid()) @db.Uuid
  username            String         @unique @db.VarChar(50)
  email               String         @unique @db.VarChar(100)
  full_name           String?        @db.VarChar(100)
  role                UserRole       @default(OPERATOR)
  password_hash       String         @db.VarChar(255)
  default_location_id String?        @db.Uuid
  is_active           Boolean        @default(true)
  created_at          DateTime       @default(now()) @db.Timestamptz(6)
  last_login          DateTime?      @db.Timestamptz(6)
  requested_approvals Approval[]     @relation("ApprovalRequester")
  reviewed_approvals  Approval[]     @relation("ApprovalReviewer")
  created_deliveries  Delivery[]     @relation("DeliveryCreator")
  posted_issues       Issue[]        @relation("IssuePoster")
  created_ncrs        NCR[]          @relation("NCRCreator")
  entered_pobs        POB[]          @relation("POBEnterer")
  approved_prfs       PRF[]          @relation("PRFApprover")
  requested_prfs      PRF[]          @relation("PRFRequester")
  approved_transfers  Transfer[]     @relation("TransferApprover")
  requested_transfers Transfer[]     @relation("TransferRequester")
  assigned_users      UserLocation[] @relation("AssignedBy")
  user_locations      UserLocation[]
  default_location    Location?      @relation("UserDefaultLocation", fields: [default_location_id], references: [id])
  created_pos         PO[]           @relation("POCreator")

  @@index([role])
  @@index([is_active])
  @@index([default_location_id])
  @@map("users")
}

model Location {
  id                String           @id @default(uuid()) @db.Uuid
  code              String           @unique @db.VarChar(10)
  name              String           @db.VarChar(100)
  type              LocationType
  address           String?
  timezone          String           @default("Asia/Riyadh") @db.VarChar(50)
  is_active         Boolean          @default(true)
  created_at        DateTime         @default(now()) @db.Timestamptz(6)
  updated_at        DateTime         @updatedAt @db.Timestamptz(6)
  deliveries        Delivery[]
  issues            Issue[]
  location_stock    LocationStock[]
  ncrs              NCR[]
  period_locations  PeriodLocation[]
  pobs              POB[]
  prfs              PRF[]
  reconciliations   Reconciliation[]
  transfers_from    Transfer[]       @relation("TransferFrom")
  transfers_to      Transfer[]       @relation("TransferTo")
  user_locations    UserLocation[]
  default_for_users User[]           @relation("UserDefaultLocation")
  ship_to_pos       PO[]             @relation("POShipTo")

  @@index([type])
  @@index([is_active])
  @@map("locations")
}

model UserLocation {
  user_id     String   @db.Uuid
  location_id String   @db.Uuid
  assigned_at DateTime @default(now()) @db.Timestamptz(6)
  assigned_by String?  @db.Uuid
  assigner    User?    @relation("AssignedBy", fields: [assigned_by], references: [id])
  location    Location @relation(fields: [location_id], references: [id], onDelete: Cascade)
  user        User     @relation(fields: [user_id], references: [id], onDelete: Cascade)

  @@id([user_id, location_id])
  @@index([user_id])
  @@index([location_id])
  @@map("user_locations")
}

model Item {
  id             String          @id @default(uuid()) @db.Uuid
  code           String          @unique @db.VarChar(50)
  name           String          @db.VarChar(200)
  unit           Unit
  category       String?         @db.VarChar(50)
  sub_category   String?         @db.VarChar(50)
  is_active      Boolean         @default(true)
  created_at     DateTime        @default(now()) @db.Timestamptz(6)
  updated_at     DateTime        @updatedAt @db.Timestamptz(6)
  delivery_lines DeliveryLine[]
  issue_lines    IssueLine[]
  item_prices    ItemPrice[]
  location_stock LocationStock[]
  transfer_lines TransferLine[]
  prf_lines      PRFLine[]
  po_lines       POLine[]

  @@index([category])
  @@index([is_active])
  @@index([is_active, category])
  @@map("items")
}

model Supplier {
  id              String     @id @default(uuid()) @db.Uuid
  code            String     @unique @db.VarChar(50)
  name            String     @db.VarChar(200)
  contact         String?
  emails          String[]   @default([])
  phone           String?    @db.VarChar(50)
  mobile          String?    @db.VarChar(50)
  vat_reg_no      String?    @db.VarChar(50)
  address         String?
  is_active       Boolean    @default(true)
  created_at      DateTime   @default(now()) @db.Timestamptz(6)
  deliveries      Delivery[]
  purchase_orders PO[]

  @@index([is_active])
  @@map("suppliers")
}

model Period {
  id               String           @id @default(uuid()) @db.Uuid
  name             String           @db.VarChar(100)
  start_date       DateTime         @db.Date
  end_date         DateTime         @db.Date
  status           PeriodStatus     @default(DRAFT)
  approval_id      String?          @db.Uuid
  created_at       DateTime         @default(now()) @db.Timestamptz(6)
  closed_at        DateTime?        @db.Timestamptz(6)
  deliveries       Delivery[]
  issues           Issue[]
  item_prices      ItemPrice[]
  period_locations PeriodLocation[]
  pobs             POB[]
  prfs             PRF[]
  reconciliations  Reconciliation[]

  @@index([status])
  @@index([start_date, end_date])
  @@map("periods")
}

model PeriodLocation {
  period_id     String               @db.Uuid
  location_id   String               @db.Uuid
  status        PeriodLocationStatus @default(OPEN)
  opening_value Decimal?             @db.Decimal(15, 2)
  closing_value Decimal?             @db.Decimal(15, 2)
  snapshot_id   String?              @db.Uuid
  snapshot_data Json?
  ready_at      DateTime?            @db.Timestamptz(6)
  closed_at     DateTime?            @db.Timestamptz(6)
  location      Location             @relation(fields: [location_id], references: [id], onDelete: Cascade)
  period        Period               @relation(fields: [period_id], references: [id], onDelete: Cascade)

  @@id([period_id, location_id])
  @@index([period_id])
  @@index([location_id])
  @@index([status])
  @@index([period_id, status])
  @@map("period_locations")
}

model ItemPrice {
  id        String   @id @default(uuid()) @db.Uuid
  item_id   String   @db.Uuid
  period_id String   @db.Uuid
  price     Decimal  @db.Decimal(15, 4)
  currency  String   @default("SAR") @db.VarChar(3)
  set_by    String?  @db.Uuid
  set_at    DateTime @default(now()) @db.Timestamptz(6)
  item      Item     @relation(fields: [item_id], references: [id], onDelete: Cascade)
  period    Period   @relation(fields: [period_id], references: [id], onDelete: Cascade)

  @@unique([item_id, period_id])
  @@index([period_id])
  @@index([item_id])
  @@map("item_prices")
}

model LocationStock {
  location_id  String    @db.Uuid
  item_id      String    @db.Uuid
  on_hand      Decimal   @default(0) @db.Decimal(15, 4)
  wac          Decimal   @default(0) @db.Decimal(15, 4)
  min_stock    Decimal?  @db.Decimal(15, 4)
  max_stock    Decimal?  @db.Decimal(15, 4)
  last_counted DateTime? @db.Timestamptz(6)
  updated_at   DateTime  @updatedAt @db.Timestamptz(6)
  item         Item      @relation(fields: [item_id], references: [id], onDelete: Cascade)
  location     Location  @relation(fields: [location_id], references: [id], onDelete: Cascade)

  @@id([location_id, item_id])
  @@index([location_id])
  @@index([item_id])
  @@index([on_hand])
  @@map("location_stock")
}

model PRF {
  id                     String      @id @default(uuid()) @db.Uuid
  prf_no                 String      @unique @db.VarChar(50)
  period_id              String      @db.Uuid
  location_id            String      @db.Uuid
  project_name           String?     @db.VarChar(200)
  prf_type               PRFType     @default(NORMAL)
  category               PRFCategory @default(FOOD)
  expected_delivery_date DateTime?   @db.Date
  is_reimbursable        Boolean     @default(false)
  status                 PRFStatus   @default(DRAFT)
  requested_by           String      @db.Uuid
  approved_by            String?     @db.Uuid
  request_date           DateTime    @db.Date
  approval_date          DateTime?   @db.Date
  rejection_reason       String?
  total_value            Decimal     @default(0) @db.Decimal(15, 2)
  contact_person_name    String?     @db.VarChar(100)
  contact_person_phone   String?     @db.VarChar(50)
  receiver_name          String?     @db.VarChar(100)
  receiver_phone         String?     @db.VarChar(50)
  notes                  String?
  created_at             DateTime    @default(now()) @db.Timestamptz(6)
  updated_at             DateTime    @updatedAt @db.Timestamptz(6)
  lines                  PRFLine[]
  purchase_orders        PO[]
  approver               User?       @relation("PRFApprover", fields: [approved_by], references: [id])
  location               Location    @relation(fields: [location_id], references: [id])
  period                 Period      @relation(fields: [period_id], references: [id])
  requester              User        @relation("PRFRequester", fields: [requested_by], references: [id])

  @@index([period_id])
  @@index([location_id])
  @@index([status])
  @@index([request_date])
  @@index([prf_type])
  @@index([category])
  @@map("prfs")
}

model PRFLine {
  id               String   @id @default(uuid()) @db.Uuid
  prf_id           String   @db.Uuid
  item_id          String?  @db.Uuid
  item_description String   @db.VarChar(500)
  cost_code        String?  @db.VarChar(50)
  stock_qty        Decimal? @db.Decimal(15, 4)
  unit             Unit
  required_qty     Decimal  @db.Decimal(15, 4)
  estimated_price  Decimal  @db.Decimal(15, 4)
  line_value       Decimal  @db.Decimal(15, 2)
  notes            String?
  prf              PRF      @relation(fields: [prf_id], references: [id], onDelete: Cascade)
  item             Item?    @relation(fields: [item_id], references: [id])

  @@index([prf_id])
  @@index([item_id])
  @@map("prf_lines")
}

model PO {
  id                    String     @id @default(uuid()) @db.Uuid
  po_no                 String     @unique @db.VarChar(50)
  prf_id                String?    @db.Uuid
  supplier_id           String     @db.Uuid
  quotation_ref         String?    @db.VarChar(100)
  ship_to_location_id   String?    @db.Uuid
  ship_to_contact       String?    @db.VarChar(100)
  ship_to_phone         String?    @db.VarChar(50)
  status                POStatus   @default(OPEN)
  total_before_discount Decimal    @default(0) @db.Decimal(15, 2)
  total_discount        Decimal    @default(0) @db.Decimal(15, 2)
  total_after_discount  Decimal    @default(0) @db.Decimal(15, 2)
  total_vat             Decimal    @default(0) @db.Decimal(15, 2)
  total_amount          Decimal    @default(0) @db.Decimal(15, 2)
  payment_terms         String?    @db.VarChar(200)
  delivery_terms        String?    @db.VarChar(200)
  duration_days         Int?
  terms_conditions      String?
  notes                 String?
  created_by            String     @db.Uuid
  created_at            DateTime   @default(now()) @db.Timestamptz(6)
  updated_at            DateTime   @updatedAt @db.Timestamptz(6)
  lines                 POLine[]
  deliveries            Delivery[]
  prf                   PRF?       @relation(fields: [prf_id], references: [id])
  supplier              Supplier   @relation(fields: [supplier_id], references: [id])
  ship_to_location      Location?  @relation("POShipTo", fields: [ship_to_location_id], references: [id])
  creator               User       @relation("POCreator", fields: [created_by], references: [id])

  @@index([prf_id])
  @@index([supplier_id])
  @@index([status])
  @@index([created_by])
  @@map("purchase_orders")
}

model POLine {
  id               String         @id @default(uuid()) @db.Uuid
  po_id            String         @db.Uuid
  item_id          String?        @db.Uuid
  item_code        String?        @db.VarChar(50)
  item_description String         @db.VarChar(500)
  quantity         Decimal        @db.Decimal(15, 4)
  delivered_qty    Decimal        @default(0) @db.Decimal(15, 4) // Track cumulative delivered quantity
  unit             Unit
  unit_price       Decimal        @db.Decimal(15, 4)
  discount_percent Decimal        @default(0) @db.Decimal(5, 2)
  total_before_vat Decimal        @db.Decimal(15, 2)
  vat_percent      Decimal        @default(15) @db.Decimal(5, 2)
  vat_amount       Decimal        @db.Decimal(15, 2)
  total_after_vat  Decimal        @db.Decimal(15, 2)
  notes            String?
  po               PO             @relation(fields: [po_id], references: [id], onDelete: Cascade)
  item             Item?          @relation(fields: [item_id], references: [id])
  delivery_lines   DeliveryLine[] // Track which deliveries fulfilled this PO line

  @@index([po_id])
  @@index([item_id])
  @@map("po_lines")
}

model Delivery {
  id                      String         @id @default(uuid()) @db.Uuid
  delivery_no             String         @unique @db.VarChar(50)
  period_id               String         @db.Uuid
  location_id             String         @db.Uuid
  supplier_id             String         @db.Uuid
  po_id                   String?        @db.Uuid
  invoice_no              String?        @db.VarChar(100)
  delivery_note           String?
  delivery_date           DateTime       @db.Date
  total_amount            Decimal        @default(0) @db.Decimal(15, 2)
  has_variance            Boolean        @default(false)
  over_delivery_rejected  Boolean        @default(false) // True if over-delivery was rejected by Supervisor/Admin
  status                  DeliveryStatus @default(DRAFT)
  created_by              String         @db.Uuid
  posted_at               DateTime?      @db.Timestamptz(6)
  created_at              DateTime       @default(now()) @db.Timestamptz(6)
  updated_at              DateTime       @updatedAt @db.Timestamptz(6)
  creator        User           @relation("DeliveryCreator", fields: [created_by], references: [id])
  location       Location       @relation(fields: [location_id], references: [id])
  period         Period         @relation(fields: [period_id], references: [id])
  po             PO?            @relation(fields: [po_id], references: [id])
  supplier       Supplier       @relation(fields: [supplier_id], references: [id])
  delivery_lines DeliveryLine[]
  ncrs           NCR[]

  @@index([period_id])
  @@index([location_id])
  @@index([supplier_id])
  @@index([po_id])
  @@index([delivery_date])
  @@index([has_variance])
  @@index([posted_at])
  @@index([status])
  @@index([period_id, location_id])
  @@index([location_id, has_variance])
  @@index([location_id, delivery_date])
  @@index([location_id, status])
  @@index([created_by, status])
  @@map("deliveries")
}

model DeliveryLine {
  id                    String   @id @default(uuid()) @db.Uuid
  delivery_id           String   @db.Uuid
  item_id               String   @db.Uuid
  po_line_id            String?  @db.Uuid // Link to the PO line this delivery fulfills
  quantity              Decimal  @db.Decimal(15, 4)
  unit_price            Decimal  @db.Decimal(15, 4)
  period_price          Decimal  @db.Decimal(15, 4)
  price_variance        Decimal  @default(0) @db.Decimal(15, 4)
  line_value            Decimal  @db.Decimal(15, 2)
  ncr_id                String?  @db.Uuid
  over_delivery_approved Boolean @default(false) // True if Supervisor/Admin approved over-delivery
  delivery              Delivery @relation(fields: [delivery_id], references: [id], onDelete: Cascade)
  item                  Item     @relation(fields: [item_id], references: [id])
  po_line               POLine?  @relation(fields: [po_line_id], references: [id])
  ncrs                  NCR[]

  @@index([delivery_id])
  @@index([item_id])
  @@index([po_line_id])
  @@index([ncr_id])
  @@map("delivery_lines")
}

model Issue {
  id          String      @id @default(uuid()) @db.Uuid
  issue_no    String      @unique @db.VarChar(50)
  period_id   String      @db.Uuid
  location_id String      @db.Uuid
  issue_date  DateTime    @db.Date
  cost_centre CostCentre  @default(FOOD)
  total_value Decimal     @default(0) @db.Decimal(15, 2)
  notes       String?
  posted_by   String      @db.Uuid
  posted_at   DateTime    @default(now()) @db.Timestamptz(6)
  issue_lines IssueLine[]
  location    Location    @relation(fields: [location_id], references: [id])
  period      Period      @relation(fields: [period_id], references: [id])
  poster      User        @relation("IssuePoster", fields: [posted_by], references: [id])

  @@index([period_id])
  @@index([location_id])
  @@index([issue_date])
  @@index([cost_centre])
  @@index([posted_at])
  @@index([period_id, location_id])
  @@index([location_id, cost_centre])
  @@index([location_id, issue_date])
  @@map("issues")
}

model IssueLine {
  id           String  @id @default(uuid()) @db.Uuid
  issue_id     String  @db.Uuid
  item_id      String  @db.Uuid
  quantity     Decimal @db.Decimal(15, 4)
  wac_at_issue Decimal @db.Decimal(15, 4)
  line_value   Decimal @db.Decimal(15, 2)
  issue        Issue   @relation(fields: [issue_id], references: [id], onDelete: Cascade)
  item         Item    @relation(fields: [item_id], references: [id])

  @@index([issue_id])
  @@index([item_id])
  @@map("issue_lines")
}

model Transfer {
  id               String         @id @default(uuid()) @db.Uuid
  transfer_no      String         @unique @db.VarChar(50)
  from_location_id String         @db.Uuid
  to_location_id   String         @db.Uuid
  status           TransferStatus @default(DRAFT)
  requested_by     String         @db.Uuid
  approved_by      String?        @db.Uuid
  request_date     DateTime       @db.Date
  approval_date    DateTime?      @db.Date
  transfer_date    DateTime?      @db.Date
  total_value      Decimal        @default(0) @db.Decimal(15, 2)
  notes            String?
  created_at       DateTime       @default(now()) @db.Timestamptz(6)
  updated_at       DateTime       @updatedAt @db.Timestamptz(6)
  transfer_lines   TransferLine[]
  approver         User?          @relation("TransferApprover", fields: [approved_by], references: [id])
  from_location    Location       @relation("TransferFrom", fields: [from_location_id], references: [id])
  requester        User           @relation("TransferRequester", fields: [requested_by], references: [id])
  to_location      Location       @relation("TransferTo", fields: [to_location_id], references: [id])

  @@index([from_location_id])
  @@index([to_location_id])
  @@index([status])
  @@index([request_date])
  @@index([transfer_date])
  @@index([from_location_id, status])
  @@index([to_location_id, status])
  @@index([requested_by])
  @@index([status, request_date])
  @@map("transfers")
}

model TransferLine {
  id              String   @id @default(uuid()) @db.Uuid
  transfer_id     String   @db.Uuid
  item_id         String   @db.Uuid
  quantity        Decimal  @db.Decimal(15, 4)
  wac_at_transfer Decimal  @db.Decimal(15, 4)
  line_value      Decimal  @db.Decimal(15, 2)
  item            Item     @relation(fields: [item_id], references: [id])
  transfer        Transfer @relation(fields: [transfer_id], references: [id], onDelete: Cascade)

  @@index([transfer_id])
  @@index([item_id])
  @@map("transfer_lines")
}

model NCR {
  id               String              @id @default(uuid()) @db.Uuid
  ncr_no           String              @unique @db.VarChar(50)
  location_id      String              @db.Uuid
  type             NCRType             @default(MANUAL)
  auto_generated   Boolean             @default(false)
  delivery_id      String?             @db.Uuid
  delivery_line_id String?             @db.Uuid
  reason           String
  quantity         Decimal?            @db.Decimal(15, 4)
  value            Decimal             @db.Decimal(15, 2)
  status           NCRStatus           @default(OPEN)
  created_by       String              @db.Uuid
  created_at       DateTime            @default(now()) @db.Timestamptz(6)
  resolved_at      DateTime?           @db.Timestamptz(6)
  resolution_notes String?
  resolution_type  String?             @db.VarChar(200)
  financial_impact NCRFinancialImpact?
  creator          User                @relation("NCRCreator", fields: [created_by], references: [id])
  delivery         Delivery?           @relation(fields: [delivery_id], references: [id])
  delivery_line    DeliveryLine?       @relation(fields: [delivery_line_id], references: [id])
  location         Location            @relation(fields: [location_id], references: [id])

  @@index([location_id])
  @@index([type])
  @@index([status])
  @@index([delivery_id])
  @@index([delivery_line_id])
  @@index([auto_generated])
  @@index([created_at])
  @@index([location_id, status])
  @@index([location_id, type])
  @@index([location_id, created_at])
  @@index([created_by])
  @@map("ncrs")
}

model POB {
  id          String   @id @default(uuid()) @db.Uuid
  period_id   String   @db.Uuid
  location_id String   @db.Uuid
  date        DateTime @db.Date
  crew_count  Int      @default(0)
  extra_count Int      @default(0)
  entered_by  String   @db.Uuid
  entered_at  DateTime @default(now()) @db.Timestamptz(6)
  updated_at  DateTime @updatedAt @db.Timestamptz(6)
  enterer     User     @relation("POBEnterer", fields: [entered_by], references: [id])
  location    Location @relation(fields: [location_id], references: [id], onDelete: Cascade)
  period      Period   @relation(fields: [period_id], references: [id], onDelete: Cascade)

  @@unique([period_id, location_id, date])
  @@index([period_id])
  @@index([location_id])
  @@index([date])
  @@index([period_id, location_id])
  @@map("pob")
}

model Reconciliation {
  id            String   @id @default(uuid()) @db.Uuid
  period_id     String   @db.Uuid
  location_id   String   @db.Uuid
  opening_stock Decimal  @default(0) @db.Decimal(15, 2)
  receipts      Decimal  @default(0) @db.Decimal(15, 2)
  transfers_in  Decimal  @default(0) @db.Decimal(15, 2)
  transfers_out Decimal  @default(0) @db.Decimal(15, 2)
  issues        Decimal  @default(0) @db.Decimal(15, 2)
  closing_stock Decimal  @default(0) @db.Decimal(15, 2)
  adjustments   Decimal  @default(0) @db.Decimal(15, 2)
  back_charges  Decimal  @default(0) @db.Decimal(15, 2)
  credits       Decimal  @default(0) @db.Decimal(15, 2)
  ncr_credits   Decimal  @default(0) @db.Decimal(15, 2)
  ncr_losses    Decimal  @default(0) @db.Decimal(15, 2)
  condemnations Decimal  @default(0) @db.Decimal(15, 2)
  last_updated  DateTime @updatedAt @db.Timestamptz(6)
  location      Location @relation(fields: [location_id], references: [id], onDelete: Cascade)
  period        Period   @relation(fields: [period_id], references: [id], onDelete: Cascade)

  @@unique([period_id, location_id])
  @@index([period_id])
  @@index([location_id])
  @@map("reconciliations")
}

model Approval {
  id           String             @id @default(uuid()) @db.Uuid
  entity_type  ApprovalEntityType
  entity_id    String             @db.Uuid
  status       ApprovalStatus     @default(PENDING)
  requested_by String             @db.Uuid
  reviewed_by  String?            @db.Uuid
  requested_at DateTime           @default(now()) @db.Timestamptz(6)
  reviewed_at  DateTime?          @db.Timestamptz(6)
  comments     String?
  requester    User               @relation("ApprovalRequester", fields: [requested_by], references: [id])
  reviewer     User?              @relation("ApprovalReviewer", fields: [reviewed_by], references: [id])

  @@index([entity_type])
  @@index([entity_id])
  @@index([status])
  @@index([requested_by])
  @@index([reviewed_by])
  @@index([entity_type, entity_id])
  @@index([entity_type, status])
  @@map("approvals")
}

enum UserRole {
  OPERATOR
  SUPERVISOR
  ADMIN
  PROCUREMENT_SPECIALIST
}

enum LocationType {
  KITCHEN
  STORE
  CENTRAL
  WAREHOUSE
}

enum Unit {
  KG
  EA
  LTR
  BOX
  CASE
  PACK
}

enum PeriodStatus {
  DRAFT
  OPEN
  PENDING_CLOSE
  APPROVED
  CLOSED
}

enum PeriodLocationStatus {
  OPEN
  READY
  CLOSED
}

enum PRFType {
  URGENT
  DPA
  NORMAL
}

enum PRFCategory {
  FOOD
  CLEANING
  OTHER
}

enum PRFStatus {
  DRAFT
  PENDING
  APPROVED
  REJECTED
  CLOSED
}

enum POStatus {
  OPEN
  CLOSED
}

enum DeliveryStatus {
  DRAFT
  POSTED
}

enum CostCentre {
  FOOD
  CLEAN
  OTHER
}

enum TransferStatus {
  DRAFT
  PENDING_APPROVAL
  APPROVED
  REJECTED
  COMPLETED
}

enum NCRType {
  MANUAL
  PRICE_VARIANCE
}

enum NCRStatus {
  OPEN
  SENT
  CREDITED
  REJECTED
  RESOLVED
}

enum NCRFinancialImpact {
  NONE
  CREDIT
  LOSS
}

enum ApprovalEntityType {
  PRF
  PO
  PERIOD_CLOSE
  TRANSFER
}

enum ApprovalStatus {
  PENDING
  APPROVED
  REJECTED
}
