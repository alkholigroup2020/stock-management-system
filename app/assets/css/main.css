@import "tailwindcss";
@import "@nuxt/ui";

/* Global font size scale - reduces all text by one step */
html {
  font-size: 90%; /* 12.6px base instead of 14px */
}

@theme {
  /* Navy Blue - Primary Brand Color (#000046) */
  /* Revised palette with better blue tones for dark mode readability */
  --color-navy-50: #eef2ff;
  --color-navy-100: #d8e0ff;
  --color-navy-200: #a8b8ff;
  --color-navy-300: #7890eb;
  --color-navy-400: #4a64c9;
  --color-navy-500: #000046;
  --color-navy-600: #00003f;
  --color-navy-700: #000037;
  --color-navy-800: #00002f;
  --color-navy-900: #000020;
  --color-navy-950: #0a0a1a;

  /* Emerald Green - Secondary/Success Color (#45cf7b) */
  --color-emerald-50: #edfcf4;
  --color-emerald-100: #d4f7e3;
  --color-emerald-200: #abefd0;
  --color-emerald-300: #76e7b7;
  --color-emerald-400: #45cf7b;
  --color-emerald-500: #2eb860;
  --color-emerald-600: #1f9a4c;
  --color-emerald-700: #1a7c3f;
  --color-emerald-800: #176234;
  --color-emerald-900: #14512c;
  --color-emerald-950: #0a2916;

  /* Zinc/Gray - Neutral Colors */
  --color-zinc-50: #fafafa;
  --color-zinc-100: #f4f4f5;
  --color-zinc-200: #e4e4e7;
  --color-zinc-300: #d4d4d8;
  --color-zinc-400: #a1a1aa;
  --color-zinc-500: #71717a;
  --color-zinc-600: #52525b;
  --color-zinc-700: #3f3f46;
  --color-zinc-800: #27272a;
  --color-zinc-900: #18181b;
  --color-zinc-950: #09090b;

  /* Amber - Warning/Alert Color */
  --color-amber-50: #fffbeb;
  --color-amber-100: #fef3c7;
  --color-amber-200: #fde68a;
  --color-amber-300: #fcd34d;
  --color-amber-400: #fbbf24;
  --color-amber-500: #f59e0b;
  --color-amber-600: #d97706;
  --color-amber-700: #b45309;
  --color-amber-800: #92400e;
  --color-amber-900: #78350f;
  --color-amber-950: #451a03;

  /* Red - Error/Critical Color */
  --color-red-50: #fef2f2;
  --color-red-100: #fee2e2;
  --color-red-200: #fecaca;
  --color-red-300: #fca5a5;
  --color-red-400: #f87171;
  --color-red-500: #ef4444;
  --color-red-600: #dc2626;
  --color-red-700: #b91c1c;
  --color-red-800: #991b1b;
  --color-red-900: #7f1d1d;
  --color-red-950: #450a0a;

  /* Blue - Info/Informational Color */
  --color-blue-50: #eff6ff;
  --color-blue-100: #dbeafe;
  --color-blue-200: #bfdbfe;
  --color-blue-300: #93c5fd;
  --color-blue-400: #60a5fa;
  --color-blue-500: #3b82f6;
  --color-blue-600: #2563eb;
  --color-blue-700: #1d4ed8;
  --color-blue-800: #1e40af;
  --color-blue-900: #1e3a8a;
  --color-blue-950: #172554;

  /* Font Size Customization - Shifted down by one level */
  --font-size-xs: 0.6875rem; /* 11px - smaller than default xs (12px) */
  --font-size-sm: 0.75rem; /* 12px - was xs */
  --font-size-base: 0.875rem; /* 14px - was sm */
  --font-size-lg: 1rem; /* 16px - was base */
  --font-size-xl: 1.125rem; /* 18px - was lg */
  --font-size-2xl: 1.25rem; /* 20px - was xl */
  --font-size-3xl: 1.5rem; /* 24px - was 2xl */
  --font-size-4xl: 1.875rem; /* 30px - was 3xl */
  --font-size-5xl: 2.25rem; /* 36px - was 4xl */
  --font-size-6xl: 3rem; /* 48px - was 5xl */
  --font-size-7xl: 3.75rem; /* 60px - was 6xl */
  --font-size-8xl: 4.5rem; /* 72px - was 7xl */
  --font-size-9xl: 6rem; /* 96px - was 8xl */
}

/* ============================================
   SEMANTIC COLOR TOKENS - LIGHT MODE
   ============================================ */
:root {
  /* ===== Primary & Secondary Brand Colors ===== */
  --ui-primary: var(--color-navy-500);
  --ui-secondary: var(--color-emerald-600);

  /* ===== Background Tokens ===== */
  /* Improved contrast: slightly darker page background for better card visibility */
  --ui-bg: #f4f5f7; /* Warmer gray for page background - better than zinc-50 */
  --ui-bg-elevated: #ffffff; /* Cards, modals, elevated surfaces */
  --ui-bg-muted: var(--color-zinc-100); /* Subtle backgrounds, disabled states */
  --ui-bg-accented: var(--color-navy-50); /* Highlighted sections */
  --ui-bg-inverted: var(--color-zinc-900); /* Dark backgrounds in light mode */

  /* ===== Text Tokens ===== */
  --ui-text: var(--color-zinc-800); /* Primary text - slightly softer than 900 */
  --ui-text-muted: var(--color-zinc-500); /* Secondary/helper text */
  --ui-text-dimmed: var(--color-zinc-400); /* Disabled/inactive text */
  --ui-text-highlighted: var(--color-navy-600); /* Important/emphasized text */
  --ui-text-inverted: #ffffff; /* Text on dark backgrounds */

  /* ===== Border Tokens ===== */
  /* Stronger borders for better visibility */
  --ui-border: var(--color-zinc-400); /* Default borders (cards, inputs) */
  --ui-border-muted: var(--color-zinc-300); /* Subtle dividers */
  --ui-border-accented: var(--color-navy-500); /* Emphasized borders */
  --ui-border-inverted: var(--color-zinc-700); /* Borders on dark backgrounds */

  /* ===== Interactive State Tokens ===== */
  --ui-primary-hover: var(--color-navy-600); /* Primary hover state */
  --ui-primary-active: var(--color-navy-700); /* Primary active/pressed state */
  --ui-primary-contrast: #ffffff; /* Text on primary backgrounds */
  --ui-bg-hover: var(--color-zinc-100); /* Background hover state */
  --ui-bg-active: var(--color-zinc-200); /* Background active state */

  /* ===== Focus & Accessibility ===== */
  --ui-ring: var(--color-navy-500); /* Focus ring color */
  --ui-focus: var(--color-navy-500); /* Focus indicator */
  --ui-shadow: rgba(0, 0, 70, 0.08); /* Shadow color - slight navy tint */

  /* ===== Feedback Tokens (Standard) ===== */
  --ui-success: var(--color-emerald-600); /* Success messages */
  --ui-warning: var(--color-amber-500); /* Warnings, alerts */
  --ui-error: var(--color-red-600); /* Errors, critical issues */
  --ui-info: var(--color-blue-600); /* Informational messages */

  /* ===== Business-Specific Tokens ===== */
  /* Stock Status Colors */
  --ui-stock-healthy: var(--color-emerald-600); /* Normal stock levels */
  --ui-stock-low: var(--color-amber-500); /* Below threshold */
  --ui-stock-critical: var(--color-red-600); /* Out of stock, urgent */
  --ui-stock-pending: var(--color-navy-500); /* Stock in transfer */

  /* Approval Workflow States */
  --ui-status-draft: var(--color-zinc-500); /* Draft/unsaved state */
  --ui-status-pending: var(--color-navy-500); /* Awaiting approval */
  --ui-status-approved: var(--color-emerald-600); /* Approved/completed */
  --ui-status-rejected: var(--color-red-600); /* Rejected/failed */

  /* Period States */
  --ui-period-open: var(--color-emerald-600); /* Period accepting transactions */
  --ui-period-ready: var(--color-navy-500); /* Location ready for close */
  --ui-period-closed: var(--color-zinc-500); /* Period locked */

  /* Price Variance */
  --ui-variance-detected: var(--color-amber-500); /* Price differs from expected */

  /* ===== Utility Tokens ===== */
  --ui-radius: 0.5rem; /* Default border radius */
}

/* ============================================
   SEMANTIC COLOR TOKENS - DARK MODE
   ============================================ */
.dark {
  /* ===== Primary & Secondary Brand Colors ===== */
  /* Using updated navy palette with proper blue tones */
  --ui-primary: var(--color-navy-300);
  --ui-secondary: var(--color-emerald-400);

  /* ===== Background Tokens ===== */
  /* Richer dark backgrounds with subtle warmth */
  --ui-bg: #0f1117; /* Slightly warmer than pure zinc-950 */
  --ui-bg-elevated: #1a1d24; /* Better contrast with page background */
  --ui-bg-muted: #252830; /* For subtle backgrounds */
  --ui-bg-accented: var(--color-navy-950);
  --ui-bg-inverted: var(--color-zinc-50);

  /* ===== Text Tokens ===== */
  --ui-text: #e8eaed; /* Softer white for less eye strain */
  --ui-text-muted: #9ca3af; /* Better readable muted text */
  --ui-text-dimmed: var(--color-zinc-600);
  --ui-text-highlighted: var(--color-navy-200);
  --ui-text-inverted: var(--color-zinc-900);

  /* ===== Border Tokens ===== */
  /* More visible borders in dark mode */
  --ui-border: #454a54; /* More visible border */
  --ui-border-muted: #363b44;
  --ui-border-accented: var(--color-navy-400);
  --ui-border-inverted: var(--color-zinc-300);

  /* ===== Interactive State Tokens ===== */
  --ui-primary-hover: var(--color-navy-200);
  --ui-primary-active: var(--color-navy-100);
  --ui-primary-contrast: #0f1117;
  --ui-bg-hover: #252830;
  --ui-bg-active: #2d3139;

  /* ===== Focus & Accessibility ===== */
  --ui-ring: var(--color-navy-400);
  --ui-focus: var(--color-navy-400);
  --ui-shadow: rgba(0, 0, 0, 0.5);

  /* ===== Feedback Tokens (Dark Mode Adjustments) ===== */
  --ui-success: var(--color-emerald-400);
  --ui-warning: var(--color-amber-400);
  --ui-error: var(--color-red-400);
  --ui-info: var(--color-blue-400);

  /* ===== Business-Specific Tokens (Dark Mode) ===== */
  --ui-stock-healthy: var(--color-emerald-400);
  --ui-stock-low: var(--color-amber-400);
  --ui-stock-critical: var(--color-red-400);
  --ui-stock-pending: var(--color-navy-300);

  --ui-status-draft: var(--color-zinc-400);
  --ui-status-pending: var(--color-navy-300);
  --ui-status-approved: var(--color-emerald-400);
  --ui-status-rejected: var(--color-red-400);

  --ui-period-open: var(--color-emerald-400);
  --ui-period-ready: var(--color-navy-300);
  --ui-period-closed: var(--color-zinc-400);

  --ui-variance-detected: var(--color-amber-400);
}

/* ============================================
   CUSTOM TAILWIND UTILITIES
   ============================================ */

/* Background utilities */
@utility bg-default {
  background-color: var(--ui-bg);
}

@utility bg-elevated {
  background-color: var(--ui-bg-elevated);
}

@utility bg-muted {
  background-color: var(--ui-bg-muted);
}

@utility bg-accented {
  background-color: var(--ui-bg-accented);
}

@utility bg-inverted {
  background-color: var(--ui-bg-inverted);
}

/* Text color utilities */
@utility text-default {
  color: var(--ui-text);
}

@utility text-primary {
  color: var(--ui-primary);
}

@utility text-error {
  color: var(--ui-error);
}

@utility text-muted {
  color: var(--ui-text-muted);
}

@utility text-dimmed {
  color: var(--ui-text-dimmed);
}

@utility text-highlighted {
  color: var(--ui-text-highlighted);
}

@utility text-inverted {
  color: var(--ui-text-inverted);
}

/* Border color utilities */
@utility border-default {
  border-color: var(--ui-border);
}

@utility border-muted {
  border-color: var(--ui-border-muted);
}

@utility border-accented {
  border-color: var(--ui-border-accented);
}

@utility border-inverted {
  border-color: var(--ui-border-inverted);
}

/* Divide color utilities */
@utility divide-default {
  border-color: var(--ui-border);
}

/* Ring/Focus utilities */
@utility ring-primary {
  --tw-ring-color: var(--ui-ring);
}

@utility ring-offset-elevated {
  --tw-ring-offset-color: var(--ui-bg-elevated);
}

/* Override ring-accented to use consistent border color */
.ring-accented {
  --tw-ring-color: var(--ui-border) !important;
}

/* Placeholder utilities */
.placeholder-muted::placeholder {
  color: var(--ui-text-muted);
}

/* ============================================
   UTILITY CLASSES
   ============================================ */

/* ===== Surface/Card Classes ===== */
@layer components {
  .card-elevated {
    @apply bg-elevated border border-default;
    @apply rounded-xl;
    /* Enhanced shadows for better elevation effect */
    box-shadow:
      0 1px 3px rgba(0, 0, 70, 0.08),
      0 4px 12px rgba(0, 0, 70, 0.06);
  }

  .dark .card-elevated {
    box-shadow:
      0 1px 3px rgba(0, 0, 0, 0.4),
      0 4px 12px rgba(0, 0, 0, 0.3),
      inset 0 1px 0 rgba(255, 255, 255, 0.04);
  }

  .card-muted {
    @apply bg-muted border border-muted;
    @apply rounded-lg;
  }

  .surface-inverted {
    @apply bg-inverted text-inverted;
    @apply border border-inverted;
    @apply rounded-lg;
  }
}

/* ===== Form Classes ===== */
@layer components {
  .form-input {
    @apply w-full px-4 py-2.5 rounded-lg;
    @apply bg-elevated border border-default;
    @apply text-default placeholder-muted;
    @apply focus:ring-2 focus:ring-primary focus:border-transparent;
    @apply transition-all duration-200;
  }

  .form-label {
    @apply block text-xs font-medium;
    @apply text-default mb-1.5;
  }

  .form-error {
    @apply text-xs mt-1;
    color: var(--ui-error);
  }
}

/* ===== Nuxt UI Form Component Border Overrides ===== */
/* Ensure all form fields use the same border color as cards */

/* Force all elements with border class to use our border color */
*[class*="border-"] {
  --tw-border-opacity: 1;
}

/* Input wrapper - the div containing the input */
.relative.inline-flex.items-center {
  border-color: var(--ui-border) !important;
}

/* All bordered elements in form context */
input[type="text"],
input[type="email"],
input[type="password"],
input[type="search"],
input[type="number"],
input:not([type]),
textarea,
select {
  border-color: var(--ui-border) !important;
}

/* Nuxt UI specific - input wrapper with ring/border */
.rounded-md.border,
.rounded-lg.border,
.rounded-full.border {
  border-color: var(--ui-border) !important;
}

/* Button with outline variant */
button.border {
  border-color: var(--ui-border) !important;
}

/* Override any zinc border colors Nuxt UI might use */
.border-zinc-200,
.border-zinc-300,
.border-gray-200,
.border-gray-300,
.border-neutral-200,
.border-neutral-300,
.dark .border-zinc-700,
.dark .border-zinc-800,
.dark .border-gray-700,
.dark .border-gray-800,
.dark .border-neutral-700,
.dark .border-neutral-800 {
  border-color: var(--ui-border) !important;
}

/* Dropdown menus and popovers */
[data-radix-popper-content-wrapper] > div,
[role="menu"],
[role="listbox"] {
  border-color: var(--ui-border) !important;
}

/* ===== Status Badge Classes ===== */
.badge-primary {
  display: inline-flex;
  align-items: center;
  padding: 0.125rem 0.625rem;
  border-radius: 9999px;
  font-size: 0.75rem;
  line-height: 1rem;
  font-weight: 500;
  background-color: var(--ui-primary);
  color: var(--ui-primary-contrast);
}

.badge-success {
  display: inline-flex;
  align-items: center;
  padding: 0.125rem 0.625rem;
  border-radius: 9999px;
  font-size: 0.75rem;
  line-height: 1rem;
  font-weight: 500;
  background-color: var(--ui-success);
  color: white;
}

.badge-warning {
  display: inline-flex;
  align-items: center;
  padding: 0.125rem 0.625rem;
  border-radius: 9999px;
  font-size: 0.75rem;
  line-height: 1rem;
  font-weight: 500;
  background-color: var(--ui-warning);
  color: white;
}

.badge-error {
  display: inline-flex;
  align-items: center;
  padding: 0.125rem 0.625rem;
  border-radius: 9999px;
  font-size: 0.75rem;
  line-height: 1rem;
  font-weight: 500;
  background-color: var(--ui-error);
  color: white;
}

.badge-info {
  display: inline-flex;
  align-items: center;
  padding: 0.125rem 0.625rem;
  border-radius: 9999px;
  font-size: 0.75rem;
  line-height: 1rem;
  font-weight: 500;
  background-color: var(--ui-info);
  color: white;
}

/* Business-Specific Badges */
.badge-stock-healthy {
  display: inline-flex;
  align-items: center;
  padding: 0.125rem 0.625rem;
  border-radius: 9999px;
  font-size: 0.75rem;
  line-height: 1rem;
  font-weight: 500;
  background-color: var(--ui-stock-healthy);
  color: white;
}

.badge-stock-low {
  display: inline-flex;
  align-items: center;
  padding: 0.125rem 0.625rem;
  border-radius: 9999px;
  font-size: 0.75rem;
  line-height: 1rem;
  font-weight: 500;
  background-color: var(--ui-stock-low);
  color: white;
}

.badge-stock-critical {
  display: inline-flex;
  align-items: center;
  padding: 0.125rem 0.625rem;
  border-radius: 9999px;
  font-size: 0.75rem;
  line-height: 1rem;
  font-weight: 500;
  background-color: var(--ui-stock-critical);
  color: white;
}

.badge-stock-pending {
  display: inline-flex;
  align-items: center;
  padding: 0.125rem 0.625rem;
  border-radius: 9999px;
  font-size: 0.75rem;
  line-height: 1rem;
  font-weight: 500;
  background-color: var(--ui-stock-pending);
  color: white;
}

.badge-pending {
  display: inline-flex;
  align-items: center;
  padding: 0.125rem 0.625rem;
  border-radius: 9999px;
  font-size: 0.75rem;
  line-height: 1rem;
  font-weight: 500;
  background-color: var(--ui-status-pending);
  color: white;
}

.badge-approved {
  display: inline-flex;
  align-items: center;
  padding: 0.125rem 0.625rem;
  border-radius: 9999px;
  font-size: 0.75rem;
  line-height: 1rem;
  font-weight: 500;
  background-color: var(--ui-status-approved);
  color: white;
}

.badge-rejected {
  display: inline-flex;
  align-items: center;
  padding: 0.125rem 0.625rem;
  border-radius: 9999px;
  font-size: 0.75rem;
  line-height: 1rem;
  font-weight: 500;
  background-color: var(--ui-status-rejected);
  color: white;
}

.badge-draft {
  display: inline-flex;
  align-items: center;
  padding: 0.125rem 0.625rem;
  border-radius: 9999px;
  font-size: 0.75rem;
  line-height: 1rem;
  font-weight: 500;
  background-color: var(--ui-status-draft);
  color: white;
}

/* ===== Typography Classes ===== */
@layer utilities {
  .text-display {
    @apply text-3xl font-bold;
    color: var(--ui-text-highlighted);
  }

  .text-heading {
    @apply text-xl font-semibold;
    color: var(--ui-text);
  }

  .text-subheading {
    @apply text-base font-medium;
    color: var(--ui-text);
  }

  .text-label {
    @apply text-xs font-medium;
    color: var(--ui-text-muted);
  }

  .text-body {
    @apply text-sm;
    color: var(--ui-text);
  }

  .text-caption {
    @apply text-xs;
    color: var(--ui-text-muted);
  }
}

/* ===== Interactive & Accessibility Classes ===== */
@layer utilities {
  .focus-ring {
    @apply focus:ring-2 focus:ring-primary focus:ring-offset-2;
    @apply focus:ring-offset-elevated;
    @apply focus:outline-none;
  }

  .smooth-transition {
    @apply transition-all duration-200 ease-in-out;
  }

  .hover-lift {
    @apply transition-transform duration-200;
  }

  .hover-lift:hover {
    @apply -translate-y-0.5;
  }
}

/* ===== Animation Classes ===== */
@layer utilities {
  .fade-in {
    animation: fadeIn 0.3s ease-in-out;
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ===== Accessibility Classes ===== */
@layer utilities {
  .sr-only {
    @apply absolute w-px h-px p-0 -m-px overflow-hidden;
    @apply whitespace-nowrap border-0;
    clip: rect(0, 0, 0, 0);
  }
}

/* ===== Reduced Motion Support ===== */
@media (prefers-reduced-motion: reduce) {
  .smooth-transition,
  .hover-lift,
  .fade-in,
  .card-elevated,
  .form-input {
    @apply transition-none;
    animation: none;
  }
}
