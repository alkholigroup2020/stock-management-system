{
  "title": "Complete Operations Testing Plan",
  "description": "End-to-end testing of all system features using a realistic two-location scenario (Kitchen & Store) with all user roles (Admin, Supervisor, Operator).",
  "phases": [
    {
      "id": "phase-1",
      "title": "Admin - Initial System Setup",
      "description": "Admin configures master data: locations, suppliers, items, users, and period",
      "items": [
        {
          "id": "p1-1",
          "label": "Login as Admin (admin@foodstock.local / Admin@123)"
        },
        {
          "id": "p1-2",
          "label": "Navigate to Locations - Create 'Kitchen' (Code: KIT, Type: KITCHEN)"
        },
        {
          "id": "p1-3",
          "label": "Create 'Store' (Code: STR, Type: STORE)"
        },
        {
          "id": "p1-4",
          "label": "Verify both locations appear in location switcher"
        },
        {
          "id": "p1-5",
          "label": "Navigate to Suppliers - Create 'Fresh Foods Co.' (Contact: Ali Hassan)"
        },
        {
          "id": "p1-6",
          "label": "Create 'Gulf Provisions' (Contact: Mohammed Al-Rashid)"
        },
        {
          "id": "p1-7",
          "label": "Navigate to Items - Create 'Chicken Breast' (PRO-001, KG, Proteins)"
        },
        {
          "id": "p1-8",
          "label": "Create 'Beef Mince' (PRO-002, KG, Proteins)"
        },
        {
          "id": "p1-9",
          "label": "Create 'Tomatoes' (VEG-001, KG, Produce)"
        },
        {
          "id": "p1-10",
          "label": "Create 'Onions' (VEG-002, KG, Produce)"
        },
        {
          "id": "p1-11",
          "label": "Create 'Rice Basmati' (DRY-001, KG, Dry Goods)"
        },
        {
          "id": "p1-12",
          "label": "Create 'Cooking Oil' (DRY-002, LTR, Dry Goods)"
        },
        {
          "id": "p1-13",
          "label": "Verify all 6 items appear in items list"
        },
        {
          "id": "p1-14",
          "label": "Navigate to Users - Create Supervisor: Sarah Johnson (username: sarah, email: sarah@foodstock.local, password: Sarah@123, role: SUPERVISOR, all locations)"
        },
        {
          "id": "p1-15",
          "label": "Create Operator: Mike Williams (username: mike, email: mike@foodstock.local, password: Mike@123, role: OPERATOR, assign to Kitchen only)"
        },
        {
          "id": "p1-16",
          "label": "Create Operator: Emma Davis (username: emma, email: emma@foodstock.local, password: Emma@123, role: OPERATOR, assign to Store only)"
        },
        {
          "id": "p1-17",
          "label": "Navigate to Periods - Create period for current month"
        },
        {
          "id": "p1-18",
          "label": "Set prices: Chicken SAR 25, Beef SAR 35, Tomatoes SAR 5, Onions SAR 3.50, Rice SAR 8, Oil SAR 12"
        },
        {
          "id": "p1-19",
          "label": "Open the period - Verify status changes to OPEN"
        },
        {
          "id": "p1-20",
          "label": "Verify period indicator in navbar shows the open period"
        },
        {
          "id": "p1-21",
          "label": "Logout as Admin"
        }
      ]
    },
    {
      "id": "phase-2",
      "title": "Operator (Mike) - Kitchen Operations",
      "description": "Kitchen operator posts deliveries, issues, and POB entries",
      "items": [
        {
          "id": "p2-1",
          "label": "Login as Mike Williams (mike@foodstock.local / Mike@123)"
        },
        {
          "id": "p2-2",
          "label": "Verify default location is Kitchen"
        },
        {
          "id": "p2-3",
          "label": "Navigate to Stock Now - Verify all items show 0 quantity"
        },
        {
          "id": "p2-4",
          "label": "Navigate to Deliveries - Click 'Create Delivery'"
        },
        {
          "id": "p2-5",
          "label": "Select Supplier: Fresh Foods Co., Invoice: INV-KIT-001"
        },
        {
          "id": "p2-6",
          "label": "Add line: Chicken Breast, Qty: 100, Price: SAR 25.00"
        },
        {
          "id": "p2-7",
          "label": "Add line: Beef Mince, Qty: 50, Price: SAR 35.00"
        },
        {
          "id": "p2-8",
          "label": "Add line: Tomatoes, Qty: 80, Price: SAR 5.00"
        },
        {
          "id": "p2-9",
          "label": "Submit delivery - Verify success (Total: SAR 5,650.00)"
        },
        {
          "id": "p2-10",
          "label": "Create second delivery from Gulf Provisions (INV-KIT-002)"
        },
        {
          "id": "p2-11",
          "label": "Add: Onions 60kg @ SAR 3.50, Rice 100kg @ SAR 8.00, Oil 40L @ SAR 12.00"
        },
        {
          "id": "p2-12",
          "label": "Submit delivery - Verify success (Total: SAR 1,490.00)"
        },
        {
          "id": "p2-13",
          "label": "Navigate to Stock Now - Verify quantities match deliveries"
        },
        {
          "id": "p2-14",
          "label": "Navigate to Issues - Click 'Create Issue'"
        },
        {
          "id": "p2-15",
          "label": "Select Cost Centre: FOOD"
        },
        {
          "id": "p2-16",
          "label": "Add line: Chicken Breast, Qty: 20"
        },
        {
          "id": "p2-17",
          "label": "Add line: Tomatoes, Qty: 15"
        },
        {
          "id": "p2-18",
          "label": "Add line: Rice, Qty: 10"
        },
        {
          "id": "p2-19",
          "label": "Submit issue - Verify success"
        },
        {
          "id": "p2-20",
          "label": "Navigate to Stock Now - Verify quantities reduced correctly"
        },
        {
          "id": "p2-21",
          "label": "Navigate to POB - Enter Crew: 45, Extra: 5"
        },
        {
          "id": "p2-22",
          "label": "Save POB entry - Verify success"
        },
        {
          "id": "p2-23",
          "label": "Navigate to Dashboard - Verify summary shows today's activity"
        },
        {
          "id": "p2-24",
          "label": "Logout as Mike"
        }
      ]
    },
    {
      "id": "phase-3",
      "title": "Operator (Emma) - Store Operations",
      "description": "Store operator posts deliveries, issues, and POB entries",
      "items": [
        {
          "id": "p3-1",
          "label": "Login as Emma Davis (emma@foodstock.local / Emma@123)"
        },
        {
          "id": "p3-2",
          "label": "Verify default location is Store"
        },
        {
          "id": "p3-3",
          "label": "Navigate to Stock Now - Verify all items show 0 quantity"
        },
        {
          "id": "p3-4",
          "label": "Create delivery from Fresh Foods Co. (INV-STR-001)"
        },
        {
          "id": "p3-5",
          "label": "Add: Chicken 80kg @ SAR 25.00, Beef 40kg @ SAR 35.00"
        },
        {
          "id": "p3-6",
          "label": "Submit delivery - Verify success"
        },
        {
          "id": "p3-7",
          "label": "Create delivery from Gulf Provisions (INV-STR-002)"
        },
        {
          "id": "p3-8",
          "label": "Add: Rice 80kg @ SAR 8.00, Oil 30L @ SAR 12.00, Onions 40kg @ SAR 3.50"
        },
        {
          "id": "p3-9",
          "label": "Submit delivery - Verify success"
        },
        {
          "id": "p3-10",
          "label": "Navigate to Stock Now - Verify all quantities correct"
        },
        {
          "id": "p3-11",
          "label": "Create issue to FOOD cost centre"
        },
        {
          "id": "p3-12",
          "label": "Add: Chicken 15kg, Rice 20kg, Onions 10kg"
        },
        {
          "id": "p3-13",
          "label": "Submit issue - Verify success"
        },
        {
          "id": "p3-14",
          "label": "Navigate to POB - Enter Crew: 30, Extra: 3"
        },
        {
          "id": "p3-15",
          "label": "Save POB entry - Verify success"
        },
        {
          "id": "p3-16",
          "label": "Logout as Emma"
        }
      ]
    },
    {
      "id": "phase-4",
      "title": "Operator (Mike) - Price Variance Delivery",
      "description": "Kitchen operator posts delivery with different price, triggering NCR",
      "items": [
        {
          "id": "p4-1",
          "label": "Login as Mike Williams (mike@foodstock.local / Mike@123)"
        },
        {
          "id": "p4-2",
          "label": "Create delivery from Gulf Provisions (INV-KIT-003)"
        },
        {
          "id": "p4-3",
          "label": "Add: Chicken Breast 50kg @ SAR 28.00 (DIFFERENT from period price SAR 25)"
        },
        {
          "id": "p4-4",
          "label": "Submit delivery - Verify delivery created"
        },
        {
          "id": "p4-5",
          "label": "Verify Price Variance NCR auto-generated"
        },
        {
          "id": "p4-6",
          "label": "Navigate to NCRs - Find the auto-generated NCR"
        },
        {
          "id": "p4-7",
          "label": "Verify NCR shows variance amount (SAR 3 x 50 = SAR 150)"
        },
        {
          "id": "p4-8",
          "label": "Navigate to Stock Now - Kitchen"
        },
        {
          "id": "p4-9",
          "label": "Verify Chicken WAC recalculated: ((80 x 25) + (50 x 28)) / 130 = SAR 26.15"
        },
        {
          "id": "p4-10",
          "label": "Logout as Mike"
        }
      ]
    },
    {
      "id": "phase-5",
      "title": "Supervisor - NCR & Transfer Approval",
      "description": "Supervisor reviews NCRs and approves inter-location transfers",
      "items": [
        {
          "id": "p5-1",
          "label": "Login as Sarah Johnson (sarah@foodstock.local / Sarah@123)"
        },
        {
          "id": "p5-2",
          "label": "Navigate to NCRs"
        },
        {
          "id": "p5-3",
          "label": "Open the price variance NCR"
        },
        {
          "id": "p5-4",
          "label": "Update NCR status to 'CREDITED' (or 'REJECTED'/'RESOLVED')"
        },
        {
          "id": "p5-5",
          "label": "Add resolution notes as needed"
        },
        {
          "id": "p5-6",
          "label": "Navigate to Stock Now - Note Kitchen Rice quantity (should be 90kg)"
        },
        {
          "id": "p5-7",
          "label": "Note Store Rice quantity (should be 60kg)"
        },
        {
          "id": "p5-8",
          "label": "Navigate to Transfers - Click 'Create Transfer'"
        },
        {
          "id": "p5-9",
          "label": "From: Kitchen, To: Store"
        },
        {
          "id": "p5-10",
          "label": "Add line: Rice Basmati, Qty: 30kg"
        },
        {
          "id": "p5-11",
          "label": "Add notes: 'Stock balancing between locations'"
        },
        {
          "id": "p5-12",
          "label": "Submit transfer - Verify status: PENDING_APPROVAL"
        },
        {
          "id": "p5-13",
          "label": "Open the transfer detail"
        },
        {
          "id": "p5-14",
          "label": "Click 'Approve' - Confirm in modal"
        },
        {
          "id": "p5-15",
          "label": "Verify transfer status changes to COMPLETED"
        },
        {
          "id": "p5-16",
          "label": "Navigate to Stock Now - Kitchen - Verify Rice reduced to 60kg"
        },
        {
          "id": "p5-17",
          "label": "Switch to Store - Verify Rice increased to 90kg"
        },
        {
          "id": "p5-18",
          "label": "Create another transfer: Store to Kitchen, Cooking Oil 10L"
        },
        {
          "id": "p5-19",
          "label": "Submit and Reject the transfer with reason: 'Not needed at this time'"
        },
        {
          "id": "p5-20",
          "label": "Verify transfer status: REJECTED"
        },
        {
          "id": "p5-21",
          "label": "Verify stock quantities unchanged"
        },
        {
          "id": "p5-22",
          "label": "Logout as Sarah"
        }
      ]
    },
    {
      "id": "phase-6",
      "title": "Supervisor - Reconciliation Adjustments",
      "description": "Supervisor enters and saves adjustments for both locations",
      "items": [
        {
          "id": "p6-1",
          "label": "Login as Sarah Johnson (sarah@foodstock.local / Sarah@123)"
        },
        {
          "id": "p6-2",
          "label": "Navigate to Reconciliations"
        },
        {
          "id": "p6-3",
          "label": "Select Kitchen location"
        },
        {
          "id": "p6-4",
          "label": "Verify Opening Stock shows 0 (first period)"
        },
        {
          "id": "p6-5",
          "label": "Enter Adjustments - Back-charges: SAR 50.00"
        },
        {
          "id": "p6-6",
          "label": "Enter Condemnations: SAR 25.00"
        },
        {
          "id": "p6-7",
          "label": "Save adjustments - Verify success"
        },
        {
          "id": "p6-8",
          "label": "Verify Closing Stock calculation is correct"
        },
        {
          "id": "p6-9",
          "label": "Switch to Store location reconciliation"
        },
        {
          "id": "p6-10",
          "label": "Verify all Store figures are correct"
        },
        {
          "id": "p6-11",
          "label": "Save Store adjustments (if any)"
        },
        {
          "id": "p6-12",
          "label": "Navigate to Consolidated Reconciliation"
        },
        {
          "id": "p6-13",
          "label": "Verify both locations displayed"
        },
        {
          "id": "p6-14",
          "label": "Verify grand totals row shows combined figures"
        },
        {
          "id": "p6-15",
          "label": "Logout as Sarah"
        }
      ]
    },
    {
      "id": "phase-7",
      "title": "Admin - Period Close & New Period",
      "description": "Admin marks locations ready, closes the period, and creates a new one",
      "items": [
        {
          "id": "p7-1",
          "label": "Login as Admin (admin@foodstock.local / Admin@123)"
        },
        {
          "id": "p7-2",
          "label": "Navigate to Reconciliations - Kitchen"
        },
        {
          "id": "p7-3",
          "label": "Mark Kitchen as 'Ready' for period close"
        },
        {
          "id": "p7-4",
          "label": "Switch to Store reconciliation"
        },
        {
          "id": "p7-5",
          "label": "Mark Store as 'Ready' for period close"
        },
        {
          "id": "p7-6",
          "label": "Navigate to Period Close"
        },
        {
          "id": "p7-7",
          "label": "Verify both locations show 'READY' status"
        },
        {
          "id": "p7-8",
          "label": "Click 'Close Period'"
        },
        {
          "id": "p7-9",
          "label": "Confirm in modal"
        },
        {
          "id": "p7-10",
          "label": "Verify period status changes to 'CLOSED'"
        },
        {
          "id": "p7-11",
          "label": "Verify success toast notification"
        },
        {
          "id": "p7-12",
          "label": "Navigate to Periods"
        },
        {
          "id": "p7-13",
          "label": "Create a new period for next month"
        },
        {
          "id": "p7-14",
          "label": "Set prices for new period (same or updated prices)"
        },
        {
          "id": "p7-15",
          "label": "Open the new period"
        },
        {
          "id": "p7-16",
          "label": "Logout as Admin"
        }
      ]
    },
    {
      "id": "phase-8",
      "title": "Operator - New Period Operations",
      "description": "Operator verifies carried-forward data and posts in new period",
      "items": [
        {
          "id": "p8-1",
          "label": "Login as Mike Williams (mike@foodstock.local / Mike@123)"
        },
        {
          "id": "p8-2",
          "label": "Navigate to Stock Now"
        },
        {
          "id": "p8-3",
          "label": "Verify opening stock equals previous period's closing stock"
        },
        {
          "id": "p8-4",
          "label": "Verify WAC carried forward correctly"
        },
        {
          "id": "p8-5",
          "label": "Create a test delivery in new period"
        },
        {
          "id": "p8-6",
          "label": "Add: Chicken 30kg @ SAR 25.00"
        },
        {
          "id": "p8-7",
          "label": "Submit delivery - Verify it works"
        },
        {
          "id": "p8-8",
          "label": "Navigate to Stock Now - Verify stock updated"
        },
        {
          "id": "p8-9",
          "label": "Logout as Mike"
        }
      ]
    },
    {
      "id": "phase-9",
      "title": "Admin - Edit & Delete Operations",
      "description": "Admin tests editing and deleting records",
      "items": [
        {
          "id": "p9-1",
          "label": "Login as Admin (admin@foodstock.local / Admin@123)"
        },
        {
          "id": "p9-2",
          "label": "Navigate to Items - Click on Chicken Breast"
        },
        {
          "id": "p9-3",
          "label": "Click Edit - Change description"
        },
        {
          "id": "p9-4",
          "label": "Save - Verify changes saved"
        },
        {
          "id": "p9-5",
          "label": "Navigate to Suppliers - Edit Fresh Foods contact info"
        },
        {
          "id": "p9-6",
          "label": "Save - Verify changes saved"
        },
        {
          "id": "p9-7",
          "label": "Navigate to Locations - Edit Kitchen address"
        },
        {
          "id": "p9-8",
          "label": "Save - Verify changes saved"
        },
        {
          "id": "p9-9",
          "label": "Navigate to Users - Edit operator's name"
        },
        {
          "id": "p9-10",
          "label": "Save - Verify changes saved"
        },
        {
          "id": "p9-11",
          "label": "Create a new test item"
        },
        {
          "id": "p9-12",
          "label": "Delete the test item - Verify deletion"
        },
        {
          "id": "p9-13",
          "label": "Deactivate Emma's user account - Verify deactivation"
        },
        {
          "id": "p9-14",
          "label": "Reactivate Emma's user account - Verify reactivation"
        }
      ]
    }
  ]
}
